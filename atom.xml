<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Teams Six</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.teamssix.com/"/>
  <updated>2019-06-14T17:54:17.982Z</updated>
  <id>http://www.teamssix.com/</id>
  
  <author>
    <name>Teams Six</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>【漏洞复现】17年的勒索病毒又双叕卷土重来了？</title>
    <link href="http://www.teamssix.com/year/190615-013724.html"/>
    <id>http://www.teamssix.com/year/190615-013724.html</id>
    <published>2019-06-14T17:37:24.000Z</published>
    <updated>2019-06-14T17:54:17.982Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h1><blockquote><p>2019年5月14日微软官方发布安全补丁，修复了Windows远程桌面服务的远程代码执行漏洞，该漏洞影响了某些旧版本的Windows系统。此漏洞是预身份验证且无需用户交互，这就意味着这个漏洞可以通过网络蠕虫的方式被利用。利用此漏洞的任何恶意软件都可能从被感染的计算机传播到其他易受攻击的计算机，其方式与2017年WannaCry恶意软件的传播方式类似。</p></blockquote><p>以上内容来自360网络安全响应中心。<br>从微软官方的消息一出，各大安全厂商都开始发布了漏洞预警，那段时间我也一直在找对应的POC，但要不就是不能利用的POC，要不就是利用以前漏洞写的POC，更有甚着点击attack后给你惊喜。<br><img src="http://pt2jsbugk.bkt.clouddn.com/2019-07081.gif" alt="图片"><br>看到这个图片的时候，真的一副生无可恋的样子，随着时间推移，渐渐的也就不怎么关注这个漏洞了。<br>直到今天，看到网上有人发一些关于这个漏洞的利用复现视频的时候，才意识到已经过去正好一个月的，此时POC也早就被公布了。<br>早在在5月31日的时候，n1xbyte就在Github上发布了利用该漏洞导致系统蓝屏的可用POC ,所以我们来复现看看吧。</p><a id="more"></a><h1 id="0x01-下载POC"><a href="#0x01-下载POC" class="headerlink" title="0x01 下载POC"></a>0x01 下载POC</h1><p>首先git clone代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/n1xbyte/CVE-2019-0708.git</span><br><span class="line">cd CVE-2019-0708</span><br></pre></td></tr></table></figure><p><img src="http://pt2jsbugk.bkt.clouddn.com/2019-07082.png" alt="图片"></p><h1 id="0x02-开始复现"><a href="#0x02-开始复现" class="headerlink" title="0x02 开始复现"></a>0x02 开始复现</h1><p>1、为了顺利复现成功，需要将被攻击机的远程桌面设为允许，防火墙也需要关掉。<br>2、被攻击机的IP地址与操作系统信息如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#被攻击主机</span><br><span class="line">ip地址：192.168.1.106</span><br><span class="line">系统类型：64位</span><br></pre></td></tr></table></figure><p>3、安装需要的库后执行POC</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip3 install impacket</span><br><span class="line">python3 crashpoc.py 192.168.1.106 64  #python3 crashpoc ip地址 系统类型</span><br></pre></td></tr></table></figure><p><img src="http://pt2jsbugk.bkt.clouddn.com/2019-07083.png" alt="图片"><br>POC被成功被执行，虽然现阶段只是让目标蓝屏，但是对这个漏洞的利用手段绝对不会止步于此。</p><h1 id="0x03-修复方案"><a href="#0x03-修复方案" class="headerlink" title="0x03 修复方案"></a>0x03 修复方案</h1><p>1、最简便的方法就是安装一个安全管家，比如火绒、360之类的<br>2、把系统的自动更新打开或者到微软官网<a href="https://portal.msrc.microsoft.com/zh-cn/security-guidance/advisory/CVE-2019-0708" target="_blank" rel="noopener">下载补丁</a><br>3、把自己电脑上的远程桌面关掉、防火墙开启</p><h1 id="0x04-小结"><a href="#0x04-小结" class="headerlink" title="0x04 小结"></a>0x04 小结</h1><p>总是有人说没有绝对的安全，当然事实也确实是如此，但是只要我们平时养成一个良好的安全习惯，还是可以避免很多病毒木马的侵害的，毕竟很多的恶意程序都是广撒网，捕的鱼多不多就是另一回事儿了。</p><p><strong>最后再次强调，不得将本视频用作违法犯罪目的，本视频只用作技术分享交流学习使用。</strong></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;0x00-前言&quot;&gt;&lt;a href=&quot;#0x00-前言&quot; class=&quot;headerlink&quot; title=&quot;0x00 前言&quot;&gt;&lt;/a&gt;0x00 前言&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;2019年5月14日微软官方发布安全补丁，修复了Windows远程桌面服务的远程代码执行漏洞，该漏洞影响了某些旧版本的Windows系统。此漏洞是预身份验证且无需用户交互，这就意味着这个漏洞可以通过网络蠕虫的方式被利用。利用此漏洞的任何恶意软件都可能从被感染的计算机传播到其他易受攻击的计算机，其方式与2017年WannaCry恶意软件的传播方式类似。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;以上内容来自360网络安全响应中心。&lt;br&gt;从微软官方的消息一出，各大安全厂商都开始发布了漏洞预警，那段时间我也一直在找对应的POC，但要不就是不能利用的POC，要不就是利用以前漏洞写的POC，更有甚着点击attack后给你惊喜。&lt;br&gt;&lt;img src=&quot;http://pt2jsbugk.bkt.clouddn.com/2019-07081.gif&quot; alt=&quot;图片&quot;&gt;&lt;br&gt;看到这个图片的时候，真的一副生无可恋的样子，随着时间推移，渐渐的也就不怎么关注这个漏洞了。&lt;br&gt;直到今天，看到网上有人发一些关于这个漏洞的利用复现视频的时候，才意识到已经过去正好一个月的，此时POC也早就被公布了。&lt;br&gt;早在在5月31日的时候，n1xbyte就在Github上发布了利用该漏洞导致系统蓝屏的可用POC ,所以我们来复现看看吧。&lt;/p&gt;
    
    </summary>
    
      <category term="漏洞复现" scheme="http://www.teamssix.com/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"/>
    
    
      <category term="漏洞复现" scheme="http://www.teamssix.com/tags/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"/>
    
      <category term="CVE" scheme="http://www.teamssix.com/tags/CVE/"/>
    
  </entry>
  
  <entry>
    <title>对于连接ssh时连时断的解决方法</title>
    <link href="http://www.teamssix.com/year/190614-134948.html"/>
    <id>http://www.teamssix.com/year/190614-134948.html</id>
    <published>2019-06-14T05:49:48.000Z</published>
    <updated>2019-06-14T05:51:53.826Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h1><p>最近用ssh连接VPS的时候，发生了很诡异的事件，有时能够连接上ssh，有时就死活连接不上，重新安装、公钥私钥都检查了，各种权限也都没有问题，端口监听地址什么的也都配置正常，总之能想到的办法都想过了，此时连不连的上仿佛就要看脸了，下面记录一下最终的解决办法。</p><a id="more"></a><h1 id="0x01-修改配置文件"><a href="#0x01-修改配置文件" class="headerlink" title="0x01 修改配置文件"></a>0x01 修改配置文件</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p>在配置文件中加入以下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UseDNS no</span><br></pre></td></tr></table></figure><p>之后重启ssh即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#Ubuntu:</span><br><span class="line">service sshd restart 或者 /etc/init.d/sshd restart</span><br><span class="line">#Centos7:</span><br><span class="line">systemctl restart sshd.service</span><br><span class="line">#Centos7以下版本：</span><br><span class="line">service sshd restart</span><br></pre></td></tr></table></figure><h1 id="0x02-原因"><a href="#0x02-原因" class="headerlink" title="0x02 原因"></a>0x02 原因</h1><p>以下解释来自本文方法参考文章：<a href="https://m.ancii.com/ayew4gv3/" target="_blank" rel="noopener">文章地址</a></p><blockquote><p>ssh登录服务器时总是要停顿等待一下才能连接上,这是因为OpenSSH服务器有一个DNS查找选项UseDNS默认是打开的。<br>UseDNS选项打开状态下,当客户端试图登录OpenSSH服务器时,服务器端先根据客户端的IP地址进行DNS PTR反向查询,查询出客户端的host name，然后根据查询出的客户端host name进行DNS 正向A记录查询，验证与其原始IP地址是否一致，这是防止客户端欺骗的一种手段,但一般我们的IP是动态的，不会有PTR记录的，打开这个选项不过是在白白浪费时间而已。</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;0x00-前言&quot;&gt;&lt;a href=&quot;#0x00-前言&quot; class=&quot;headerlink&quot; title=&quot;0x00 前言&quot;&gt;&lt;/a&gt;0x00 前言&lt;/h1&gt;&lt;p&gt;最近用ssh连接VPS的时候，发生了很诡异的事件，有时能够连接上ssh，有时就死活连接不上，重新安装、公钥私钥都检查了，各种权限也都没有问题，端口监听地址什么的也都配置正常，总之能想到的办法都想过了，此时连不连的上仿佛就要看脸了，下面记录一下最终的解决办法。&lt;/p&gt;
    
    </summary>
    
      <category term="经验总结" scheme="http://www.teamssix.com/categories/%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="解决方案" scheme="http://www.teamssix.com/tags/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
    
      <category term="ssh" scheme="http://www.teamssix.com/tags/ssh/"/>
    
  </entry>
  
  <entry>
    <title>hexo自适应BiliBili视频大小的解决方案</title>
    <link href="http://www.teamssix.com/year/190614-111512.html"/>
    <id>http://www.teamssix.com/year/190614-111512.html</id>
    <published>2019-06-14T03:15:12.000Z</published>
    <updated>2019-06-14T04:09:34.946Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x00-未修改"><a href="#0x00-未修改" class="headerlink" title="0x00 未修改"></a>0x00 未修改</h1><img src="http://pt2jsbugk.bkt.clouddn.com/bilibili1.png" width="80%" height="80%" align="center"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe src=&quot;//player.bilibili.com/player.html?aid=55224540&amp;cid=96981660&amp;page=1&quot; scrolling=&quot;no&quot; border=&quot;0&quot; frameborder=&quot;no&quot; framespacing=&quot;0&quot; allowfullscreen=&quot;true&quot;&gt; &lt;/iframe&gt;</span><br></pre></td></tr></table></figure><p>直接将B站中的视频插入地址放入文章MarkDown中的效果如下：</p><iframe src="//player.bilibili.com/player.html?aid=55224540&cid=96981660&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>  <p>这个视频也太小了，而且不能全屏，很难受，于是在网上看到有人用自定义调节视频的高宽。</p><a id="more"></a><h1 id="0x01-自定义高宽"><a href="#0x01-自定义高宽" class="headerlink" title="0x01 自定义高宽"></a>0x01 自定义高宽</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe src=&quot;//player.bilibili.com/player.html?aid=55224540&amp;cid=96981660&amp;page=1&quot; width=&quot;780&quot; height=&quot;480&quot; scrolling=&quot;no&quot; border=&quot;0&quot; frameborder=&quot;no&quot; framespacing=&quot;0&quot; allowfullscreen=&quot;true&quot;&gt; &lt;/iframe&gt;</span><br></pre></td></tr></table></figure><p>就是在原来的基础上加入了宽高，效果类似这样：</p><iframe src="//player.bilibili.com/player.html?aid=55224540&cid=96981660&page=1" width="780" height="480" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>  <p>自定义调节视频高宽虽然可以解决这个问题，但是手机上又是另一翻景象，你看：  </p><img src="http://pt2jsbugk.bkt.clouddn.com/bilibili2.png" width="50%" height="50%" align="center"><p>这就更难受了，于是在网上找遍各种自适应视频大小的方案，最终找到以下这种方案。</p><h1 id="0x02-自适应视频大小"><a href="#0x02-自适应视频大小" class="headerlink" title="0x02 自适应视频大小"></a>0x02 自适应视频大小</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;position: relative; width: 100%; height: 0; padding-bottom: 75%;&quot;&gt;&lt;iframe src=&quot;//player.bilibili.com/player.html?aid=55224540&amp;cid=96981660&amp;page=1&quot; scrolling=&quot;no&quot; border=&quot;0&quot; frameborder=&quot;no&quot; framespacing=&quot;0&quot; allowfullscreen=&quot;true&quot; style=&quot;position: absolute; width: 100%; height: 100%; left: 0; top: 0;&quot;&gt; &lt;/iframe&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>只需要把你的视频地址和上面的视频地址替换一下就行，最后效果如下：</p><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//player.bilibili.com/player.html?aid=55224540&cid=96981660&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"> </iframe></div>  <p>手机上也能很好的自适应：   </p><img src="http://pt2jsbugk.bkt.clouddn.com/bilibili3.png" width="50%" height="50%" align="center"><p>不过发现依然不能全屏播放，还是有些美中不足，所以只好也将视频播放链接放到视频下面了，如果不能全屏就只能去源链接去看了，如果你有更好的解决方法，欢迎下方留言。</p><h1 id="0x03-致谢"><a href="#0x03-致谢" class="headerlink" title="0x03 致谢"></a>0x03 致谢</h1><p>本文中的自适应解决方案来自这篇文章：<a href="https://www.andyvj.com/2019/02/12/190213-01/" target="_blank" rel="noopener">文章地址</a>，里面还介绍了其他音视频平台插入的方法，在这里也谢谢这位老哥了。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;0x00-未修改&quot;&gt;&lt;a href=&quot;#0x00-未修改&quot; class=&quot;headerlink&quot; title=&quot;0x00 未修改&quot;&gt;&lt;/a&gt;0x00 未修改&lt;/h1&gt;&lt;img src=&quot;http://pt2jsbugk.bkt.clouddn.com/bilibili1.png&quot; width=&quot;80%&quot; height=&quot;80%&quot; align=&quot;center&quot;&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;iframe src=&amp;quot;//player.bilibili.com/player.html?aid=55224540&amp;amp;cid=96981660&amp;amp;page=1&amp;quot; scrolling=&amp;quot;no&amp;quot; border=&amp;quot;0&amp;quot; frameborder=&amp;quot;no&amp;quot; framespacing=&amp;quot;0&amp;quot; allowfullscreen=&amp;quot;true&amp;quot;&amp;gt; &amp;lt;/iframe&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;直接将B站中的视频插入地址放入文章MarkDown中的效果如下：&lt;/p&gt;
&lt;iframe src=&quot;//player.bilibili.com/player.html?aid=55224540&amp;cid=96981660&amp;page=1&quot; scrolling=&quot;no&quot; border=&quot;0&quot; frameborder=&quot;no&quot; framespacing=&quot;0&quot; allowfullscreen=&quot;true&quot;&gt; &lt;/iframe&gt;  

&lt;p&gt;这个视频也太小了，而且不能全屏，很难受，于是在网上看到有人用自定义调节视频的高宽。&lt;/p&gt;
    
    </summary>
    
      <category term="经验总结" scheme="http://www.teamssix.com/categories/%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="BiliBili" scheme="http://www.teamssix.com/tags/BiliBili/"/>
    
      <category term="自适应视频大小" scheme="http://www.teamssix.com/tags/%E8%87%AA%E9%80%82%E5%BA%94%E8%A7%86%E9%A2%91%E5%A4%A7%E5%B0%8F/"/>
    
      <category term="解决方案" scheme="http://www.teamssix.com/tags/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
    
  </entry>
  
  <entry>
    <title>【Python实例】批量下载斗罗大陆高清视频</title>
    <link href="http://www.teamssix.com/year/190613-191825.html"/>
    <id>http://www.teamssix.com/year/190613-191825.html</id>
    <published>2019-06-13T11:18:25.000Z</published>
    <updated>2019-06-14T03:39:40.218Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x00-下载视频下载脚本"><a href="#0x00-下载视频下载脚本" class="headerlink" title="0x00 下载视频下载脚本"></a>0x00 下载视频下载脚本</h1><p>首先来到我的<a href="http://www.github.com/teamssix/" target="_blank" rel="noopener">Github主页</a>，找到Douluo-download项目，点开找到<a href="https://github.com/teamssix/Douluo-download.git" target="_blank" rel="noopener">下载地址</a>，使用git clone对其进行下载</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/teamssix/Douluo-download.git</span><br></pre></td></tr></table></figure><p><img src="http://pt2jsbugk.bkt.clouddn.com/1.png" alt="图片"></p><a id="more"></a><h1 id="0x01-安装python所需要的库"><a href="#0x01-安装python所需要的库" class="headerlink" title="0x01 安装python所需要的库"></a>0x01 安装python所需要的库</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd Douluo-download/</span><br><span class="line">pip3 install -r requirements.txt</span><br></pre></td></tr></table></figure><p><img src="http://pt2jsbugk.bkt.clouddn.com/2.png" alt="图片"></p><h1 id="0x02-执行Python程序"><a href="#0x02-执行Python程序" class="headerlink" title="0x02 执行Python程序"></a>0x02 执行Python程序</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 douluo.py</span><br></pre></td></tr></table></figure><p><img src="http://pt2jsbugk.bkt.clouddn.com/3.png" alt="图片"><br>程序在执行的时候会感觉比较慢，其实不是卡了，而是程序正在下载视频，当下载好一个视频才会弹出一条信息。</p><h1 id="0x03-查看成果"><a href="#0x03-查看成果" class="headerlink" title="0x03 查看成果"></a>0x03 查看成果</h1><p>执行ls命令可以看到刚才下载的视频<br><img src="http://pt2jsbugk.bkt.clouddn.com/4.png" alt="图片"><br>播放看看能不能正常播放<br><img src="http://pt2jsbugk.bkt.clouddn.com/5.png" alt="图片"><br>可以看到是可以正常播放的，不过我想试试最新的一集，也就是看看需要会员的视频能不能下载下来，当前最新的一集是55集，那我们下载试试。</p><h1 id="0x04-继续尝试下载VIP视频"><a href="#0x04-继续尝试下载VIP视频" class="headerlink" title="0x04 继续尝试下载VIP视频"></a>0x04 继续尝试下载VIP视频</h1><p>知道下载那一集后还需要修改一下代码才行，将原来下载视频的代码简单做一下修改就行<br><img src="http://pt2jsbugk.bkt.clouddn.com/6.png" alt="图片"><br>执行看看<br><img src="http://pt2jsbugk.bkt.clouddn.com/7.png" alt="图片"><br>看来不行，只能下载到预告片，接下来就对代码就行简单的介绍吧</p><h1 id="0x05-代码简单介绍"><a href="#0x05-代码简单介绍" class="headerlink" title="0x05 代码简单介绍"></a>0x05 代码简单介绍</h1><h2 id="1、第一部分：导入库设定变量"><a href="#1、第一部分：导入库设定变量" class="headerlink" title="1、第一部分：导入库设定变量"></a>1、第一部分：导入库设定变量</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#导入库设定变量</span><br><span class="line">import os</span><br><span class="line">import requests</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">headers = &#123;&apos;User-Agent&apos;:&apos;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.75 Safari/537.36&apos;&#125;</span><br><span class="line">home_url =&apos;https://v.qq.com/x/cover/m441e3rjq9kwpsc/m00253deqqo.html&apos;</span><br></pre></td></tr></table></figure><p>这部分就是导入一些库和一些设定的变量什么的，比如headers、url什么的，没什么好说的</p><h2 id="2、第二部分：爬取每个视频的id"><a href="#2、第二部分：爬取每个视频的id" class="headerlink" title="2、第二部分：爬取每个视频的id"></a>2、第二部分：爬取每个视频的id</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#爬取每个视频的id</span><br><span class="line">douluohome = requests.get(home_url,headers=headers)</span><br><span class="line">douluohome.encoding=&apos;utf-8&apos;</span><br><span class="line">douluosoup = BeautifulSoup(douluohome.text,&apos;html.parser&apos;)</span><br><span class="line">douluolist = douluosoup.select(&apos;.mod_episode&apos;)[0].select(&apos;a&apos;)</span><br></pre></td></tr></table></figure><p>这里用到了BeautifulSoup4库，先requets获取页面信息，用BeautifulSoup4去对页面html进行解析，最后找到我们想要的东西，这里是清洗出每个视频的ID</p><h2 id="3、第三部分：合成下载链接"><a href="#3、第三部分：合成下载链接" class="headerlink" title="3、第三部分：合成下载链接"></a>3、第三部分：合成下载链接</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#合成下载链接</span><br><span class="line">lists = []</span><br><span class="line">for i in range(len(douluolist)):</span><br><span class="line">    lists.append(&apos;https://v.qq.com&apos;+douluolist[i][&apos;href&apos;])</span><br></pre></td></tr></table></figure><p>很简单的一个处理，将上一步获取的视频的id加到v.qq.com后面，生成视频的播放链接</p><h2 id="4、第四部分：开始下载视频"><a href="#4、第四部分：开始下载视频" class="headerlink" title="4、第四部分：开始下载视频"></a>4、第四部分：开始下载视频</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#开始下载视频</span><br><span class="line">for i in range(len(lists)):</span><br><span class="line">    try:</span><br><span class="line">        print(os.popen(&apos;you-get &#123;&#125;&apos;.format(lists[i])).read()) #视频会下载到当前目录</span><br><span class="line">    except:</span><br><span class="line">        pass</span><br><span class="line">    continue</span><br></pre></td></tr></table></figure><p>这部分其实也没有什么东西，有了每个视频的播放链接后，直接使用工具就可以下载了，这里使用的是利用os库调用you-get命令进行下载的，最后将you-get命令的显示结果传回终端。</p><h1 id="0x06-总结"><a href="#0x06-总结" class="headerlink" title="0x06 总结"></a>0x06 总结</h1><p>总的说来，其实Python主要就是起到爬虫作用，爬取每个视频的播放链接，最后使用you-get对视频进行下载，没有什么太大的难度，所以权当练练手了。</p><p>下面为视频演示：</p><!--<iframe src="//player.bilibili.com/player.html?aid=55224540&cid=96981660&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>--><!--<p align = "center"><iframe height=auto width=100% src="//player.bilibili.com/player.html?aid=55224540&cid=96981660&page=1"></iframe></p>--><!--<iframe src="//player.bilibili.com/player.html?aid=55224540&cid=96981660&page=1" width="780" height="480" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>--><div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;"><iframe src="//player.bilibili.com/player.html?aid=55224540&cid=96981660&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"> </iframe></div><p>如果视频不能全屏播放，请点击<a href="https://www.bilibili.com/video/av55224540/" title="源链接" target="_blank" rel="noopener">源链接</a>观看。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;0x00-下载视频下载脚本&quot;&gt;&lt;a href=&quot;#0x00-下载视频下载脚本&quot; class=&quot;headerlink&quot; title=&quot;0x00 下载视频下载脚本&quot;&gt;&lt;/a&gt;0x00 下载视频下载脚本&lt;/h1&gt;&lt;p&gt;首先来到我的&lt;a href=&quot;http://www.github.com/teamssix/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Github主页&lt;/a&gt;，找到Douluo-download项目，点开找到&lt;a href=&quot;https://github.com/teamssix/Douluo-download.git&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;下载地址&lt;/a&gt;，使用git clone对其进行下载&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;git clone https://github.com/teamssix/Douluo-download.git&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;http://pt2jsbugk.bkt.clouddn.com/1.png&quot; alt=&quot;图片&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="实例演示" scheme="http://www.teamssix.com/categories/%E5%AE%9E%E4%BE%8B%E6%BC%94%E7%A4%BA/"/>
    
    
      <category term="Python" scheme="http://www.teamssix.com/tags/Python/"/>
    
      <category term="斗罗大陆" scheme="http://www.teamssix.com/tags/%E6%96%97%E7%BD%97%E5%A4%A7%E9%99%86/"/>
    
      <category term="GitHub" scheme="http://www.teamssix.com/tags/GitHub/"/>
    
  </entry>
  
  <entry>
    <title>为自定义域名的Hexo博客升级到Https网站</title>
    <link href="http://www.teamssix.com/year/191612-123700.html"/>
    <id>http://www.teamssix.com/year/191612-123700.html</id>
    <published>2019-06-12T04:37:00.000Z</published>
    <updated>2019-06-12T08:18:58.606Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h1><p>一把小绿锁，增加安全与安全感。cloudflare 是一家国外的CDN加速服务商，我们可以用它来把我们的网站升级到https，同时还能够提高网站的访问速度。<br>如果在设置的过程中，因为网站太多英文而困扰，可以利用浏览器的一些插件进行翻译，比如Chrome自带的翻译。<br>我使用的域名提供商是namesilo，博客工具是hexo，在网上找到很多教程都是用的Github官方提供的升级到https的教程，要不就是各种命令，然后按照教程去配置就各种依赖报错，十分心累。<br>本文配置过程中，没有涉及到命令的地方，利用CloudFlare配置https，整体体验还是很是很不错的，而且还能一定程度上的伪装自己的真实IP地址，废话不多说，下面就开整吧。</p><a id="more"></a><h1 id="0x01-注册CloudFlare"><a href="#0x01-注册CloudFlare" class="headerlink" title="0x01 注册CloudFlare"></a>0x01 注册<strong>CloudFlare</strong></h1><p>打开注册地址<a href="https://dash.cloudflare.com/sign-up" target="_blank" rel="noopener">https://dash.cloudflare.com/sign-up</a>，输入邮箱和密码，对于下面是否接收广告的选项我是取消勾选，可以自行选择，勾选了平时邮箱会接收到来自CloudFlare的广告。<br><img src="https://uploader.shimo.im/f/08xM20osdY8mEG4S.png!thumbnail" alt="图片"><br>此时邮箱会收到验证邮件，点击Verify email按钮，跳转到登陆界面，输入正确的账号密码后，才算是验证成功。<br><img src="https://uploader.shimo.im/f/pAqoL3lxwXUgtNzH.png!thumbnail" alt="图片"></p><h1 id="0x02-添加配置网站"><a href="#0x02-添加配置网站" class="headerlink" title="0x02 添加配置网站"></a>0x02 添加配置网站</h1><p>回到Cloudflare页面，输入自己的域名<br><img src="https://uploader.shimo.im/f/4ttl2H54YhQfQ7GJ.png!thumbnail" alt="图片"><br>网页提示正在查询你的DNS记录，点击Next<br><img src="https://uploader.shimo.im/f/5n24btmJeQc6qUHe.png!thumbnail" alt="图片"><br>这里我选择0元/月，也就是免费的，具体每个Plan是什么意思，可以看下面翻译后的图片，选择后之后，点击Confirm plan<br><img src="https://uploader.shimo.im/f/HL5b17EE0AIYGYkU.png!thumbnail" alt="图片"><br><img src="https://uploader.shimo.im/f/5EoJQ4eD7WQUMRZD.png!thumbnail" alt="图片"><br>弹出提示信息，问我们是否确认购买这个plan，我们直接确认，点击Confirm<br><img src="https://uploader.shimo.im/f/EG3KZF4ocS8oe3Mj.png!thumbnail" alt="图片"><br>将所有DNS记录删除，添加类型为A，Name为www，Value为你的IP地址，TTL为自动的一条记录后，点击Continue<br><img src="https://uploader.shimo.im/f/VaYQkRHlh0sgkXHY.png!thumbnail" alt="图片">接下来需要修改你的域名服务器，这就需要到你购买域名的地方去修改了，我的域名是在namesilo购买的，因此这里以namesilo为例。<br>这里可以先把下图中红色框中的内容先复制下来。<br><img src="https://uploader.shimo.im/f/55ZlCXHVJ2kFQNtz.png!thumbnail" alt="图片"></p><h1 id="0x03-配置域名服务器"><a href="#0x03-配置域名服务器" class="headerlink" title="0x03 配置域名服务器"></a>0x03 配置域名服务器</h1><p>打开自己购买域名的地方，这里我打开的是namesilo官网，对于其他域名网站都类似，具体配置域名服务器的教程可以谷歌之。<br>进入官网登陆后，点击Manage My Domains<br><img src="https://uploader.shimo.im/f/PgFVgifWXXUmTZTr.png!thumbnail" alt="图片"><br>选择需要修改的域名后，点击Change Nameservers，namesilo默认有3个Nameservers，我这里之前已经修改过了，所以NameServers栏中会和默认的不一样。<br><img src="https://uploader.shimo.im/f/JkVhCFgxAO81KGK3.png!thumbnail" alt="图片"><br>先将原来信息删除，将上面复制的内容逐一复制进去即可，点击SUBMIT，这里因为我已经修改过了，因此界面会显示不大一样。<br><img src="https://uploader.shimo.im/f/wIGtkmQfFmgQaWp3.png!thumbnail" alt="图片"><br>回到CloudFlasre页面，点击Continue，跳转到以下界面，稍等一段时间，来到namesilo查看配置进度<br><img src="https://uploader.shimo.im/f/za8z1Th1y484fWVb.png!thumbnail" alt="图片"><br>下面Status显示Active说明域名服务器就已经配置好了。<br><img src="https://uploader.shimo.im/f/2tv979qn6Fgl35Xr.png!thumbnail" alt="图片"><br><img src="https://uploader.shimo.im/f/5u5HZKUzmDISW6Rb.png!thumbnail" alt="图片"></p><h1 id="0x04-配置SSL"><a href="#0x04-配置SSL" class="headerlink" title="0x04 配置SSL"></a>0x04 配置SSL</h1><p>来到Crypto，点击using SSl<br><img src="https://uploader.shimo.im/f/3WKVOE5IHxYDyRoP.png!thumbnail" alt="图片"><br>点击Sign up<img src="https://uploader.shimo.im/f/cUNXuT0jypo57t7h.png!thumbnail" alt="图片"><br>跳转到如下界面<br><img src="https://uploader.shimo.im/f/7ETxZn0N5mEEUuyF.png!thumbnail" alt="图片"><br>等待一段时间，少则几十分钟一个小时，多则24小时，见到下面红色框内容出现，说明SSl配置就成功了<br><img src="https://uploader.shimo.im/f/8mGr3hEksdsH26TI.png!thumbnail" alt="图片"><br>此时登陆我们的域名就可以看到高贵的安全锁标志了。<br><img src="https://uploader.shimo.im/f/UoCFiC2tesQvKz5P.png!thumbnail" alt="图片"></p><h1 id="0x05-设置Always-Use-HTTPS规则"><a href="#0x05-设置Always-Use-HTTPS规则" class="headerlink" title="0x05 设置Always Use HTTPS规则"></a>0x05 设置Always Use HTTPS规则</h1><p>虽然设置了http，但是发现输入域名还是会自动以http协议连接，因此我们来到Page Rules添加一下规则。<br><img src="https://uploader.shimo.im/f/qtCZkUTz2y8z2spC.png!thumbnail" alt="图片"><br>第一个框填写自己的域名，接着选择Always Use HTTPS，点击Save and Deploy。<br><img src="https://uploader.shimo.im/f/ss8Eh10LGy0SZsEg.png!thumbnail" alt="图片"><br>同样需要等待一段时间，输入自己域名后就可以发现可以直接跳转到https了。</p><h1 id="0x06-总结"><a href="#0x06-总结" class="headerlink" title="0x06 总结"></a>0x06 总结</h1><p>除此之外在宝塔上配置https也是很方便的，不过因为担心宝塔配置Web的过程中安装的LNMP什么的和本地一些已经安装好的环境发生冲突，最后还是没有继续选择使用宝塔，于是在网上查找了很多将http升级为https的方法，但基本都是用的国内的云，都有自带的证书服务，并不适用于我的情况，最后看到这篇文章：<a href="https://zhouhengheng.com/%E5%AE%9E%E7%8E%B0Hexo%E5%8D%9A%E5%AE%A2%E4%BB%8EHTTP%E5%88%B0HTTPS%E5%8A%A0%E5%AF%86.html" target="_blank" rel="noopener">https://zhouhengheng.com/%E5%AE%9E%E7%8E%B0Hexo%E5%8D%9A%E5%AE%A2%E4%BB%8EHTTP%E5%88%B0HTTPS%E5%8A%A0%E5%AF%86.html</a>，不过写的比较简陋，于是结合这篇文章以及自己的摸索，记录下这篇文章。</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;0x00-前言&quot;&gt;&lt;a href=&quot;#0x00-前言&quot; class=&quot;headerlink&quot; title=&quot;0x00 前言&quot;&gt;&lt;/a&gt;0x00 前言&lt;/h1&gt;&lt;p&gt;一把小绿锁，增加安全与安全感。cloudflare 是一家国外的CDN加速服务商，我们可以用它来把我们的网站升级到https，同时还能够提高网站的访问速度。&lt;br&gt;如果在设置的过程中，因为网站太多英文而困扰，可以利用浏览器的一些插件进行翻译，比如Chrome自带的翻译。&lt;br&gt;我使用的域名提供商是namesilo，博客工具是hexo，在网上找到很多教程都是用的Github官方提供的升级到https的教程，要不就是各种命令，然后按照教程去配置就各种依赖报错，十分心累。&lt;br&gt;本文配置过程中，没有涉及到命令的地方，利用CloudFlare配置https，整体体验还是很是很不错的，而且还能一定程度上的伪装自己的真实IP地址，废话不多说，下面就开整吧。&lt;/p&gt;
    
    </summary>
    
      <category term="经验总结" scheme="http://www.teamssix.com/categories/%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/"/>
    
    
      <category term="Hexo" scheme="http://www.teamssix.com/tags/Hexo/"/>
    
      <category term="Https" scheme="http://www.teamssix.com/tags/Https/"/>
    
      <category term="CloudFlare" scheme="http://www.teamssix.com/tags/CloudFlare/"/>
    
      <category term="Namesilo" scheme="http://www.teamssix.com/tags/Namesilo/"/>
    
  </entry>
  
</feed>
